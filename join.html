<html>

  <head>
    <title>Ladder - Join</title>
    <script>
    function matchPasswords(pw2Field){
      if (document.getElementById("pwd2").value != document.getElementById("pwd1").value)
      {
        alert("Given passwords do not match.");
        pw2Field.focus();
        pw2Field.select();
	    return false;
      }
      else
      {
        return true;
      }
    }
    </script>

    <script>
    function validateTele(teleField){
      var valid = true;
      telNum = teleField.value;

      if (telNum.length != 10)
      {
        valid = false;
      }

      for (var i = 0; i < telNum.length && valid; i++)
      {
        if (isNaN(parseInt(telNum.charAt(i))))
        {
          valid = false;
        }
      }

      if (!valid)
      {
        alert(teleField.value + " is not a valid phone number.");
        teleField.focus();
        teleField.select();
        return false;
      }
      else
      {
        return true;
      }
    }
    </script>
	
	<script>
    function validateEmail(){
      if (!document.getElementById("email").value.includes('@'))
      {
        alert("Email requires an '@' symbol.");
        document.getElementById("email").focus();
        document.getElementById("email").select();
	    return false;
      }
      else
      {
        return true;
      }
    }
    </script>

    <script>
    function validateForm(){
      if (!(matchPasswords(document.getElementById("pwd2")) 
          && validateTele(document.getElementById("tele"))))
      {
        return false;
      }
      else
      {
        return true;
      }
    }
    </script>
    
  </head>

  <body>
    <h1 align=center>Register to join the ladder</h1>
    <p><hr></p>
    <h3>Please fill out all fields</h3>
    <form name="registration_form" id="registration_form" action="dhansen.cs.georgefox.edu/~dhansen/echoForm.php" method="post" onsubmit="return validateForm();">
      Your name:<br>
      <input type="text" name="name" id="name" required><br><br>
      Email:<br>
      <input type="email" name="email" id="email" onChange="validateEmail();" required><br><br>
      Phone number:<br>(enter only digits with no spaces, e.g. 1112222333)<br>
      <input type="text" name="tele" id="tele" maxlength="10" onChange="validateTele(this);" required><br><br>
      Username:<br>
      <input type="text" name="uname" id="uname" required><br><br>
      Password:<br>
      <input type="password" name="pwd1" id="pwd1" required><br><br>
      Please confirm your password:<br>
      <input type="password" name="pwd2" id="pwd2" onChange="matchPasswords(this);" required><br><br>
      <input type="submit" value="Submit">
    </form>

  </body>

</html>
