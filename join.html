<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  
    <title>Ladder - Join</title>
    <script>
      function matchPasswords(pw2Field){
        if (pw2Field.value != document.getElementById("pwd1").value)
        {
          alert("Given passwords do not match.");
          pw2Field.focus();
          pw2Field.select();
          return false;
        }
        return true;
      }
    </script>

    <script>
      function validateTele(teleField){
        telNum = teleField.value;

        if (telNum.search(/\(?\d\d\d\)?(\s|-)?\d\d\d(\s|-)?\d\d\d\d/) == -1)
        {
          alert(telNum + " is not a valid phone number.");
          teleField.focus();
          teleField.select();
          return false;
        }
        return true;
      }
    </script>
	
    <script>
      function validateEmail(){
        if (document.getElementById("email").value.search(/([a-z]|[0-9])+@([a-z]|[0-9])+/i) == -1)
        {
          alert("Email requires an '@' symbol separated by at least one letter or digit on either side.");
          document.getElementById("email").focus();
          document.getElementById("email").select();
          return false;
        }
        return true;
      }
    </script>

    <script>
      function validateForm(){
        if (!(matchPasswords(document.getElementById("pwd2")) 
            && validateTele(document.getElementById("tele"))
            && validateEmail()))
        {
          return false;
        }
        return true;
      }
    </script>
    
  </head>

  <body>
    <div class="w3-container">
      <h1 align=center>Register to join the ladder</h1>
      <p><hr></p>
      <div class="w3-card-1" style="width:25%">
        <div class="w3-container">
          <h3>Please fill out all fields:</h3>
        </div>
        <form class="w3-container" name="registration_form" id="registration_form" action="https://csis314-jjones.bitnamiapp.com/secure/register.php" method="post" onsubmit="return validateForm();">
          <p>
          <label class="w3-text-blue-grey"><b>Your name</b></label>
          <input class="w3-input w3-border w3-light-grey" type="text" name="name" id="name" required></p>
          <p>
          <label class="w3-text-blue-grey"><b>Email</b></label>
          <input class="w3-input w3-border w3-light-grey" type="email" name="email" id="email" onChange="validateEmail();" required></p>
          <p>
          <label class="w3-text-blue-grey"><b>Phone number (include area code)</b></label>
          <input class="w3-input w3-border w3-light-grey" type="text" name="tele" id="tele" maxlength="14" onChange="validateTele(this);" required></p>
          <p>
          <label class="w3-text-blue-grey"><b>Username</b></label>
          <input class="w3-input w3-border w3-light-grey" type="text" name="uname" id="uname" required></p>
          <p>
          <label class="w3-text-blue-grey"><b>Password</b></label>
          <input class="w3-input w3-border w3-light-grey" type="password" name="pwd1" id="pwd1" required></p>
          <p>
          <label class="w3-text-blue-grey"><b>Please confirm your password</b></label>
          <input class="w3-input w3-border w3-light-grey" type="password" name="pwd2" id="pwd2" onChange="matchPasswords(this);" required></p>
          <p>
          <button class="w3-btn w3-blue-grey">Submit</button></p>
        </form>
      </div>
    <div class="w3-container">
  </body>

</html>
