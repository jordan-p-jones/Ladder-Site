<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
    <title>Ladder - Join</title>
    <script>
      function matchPasswords(pw2Field){
        if (pw2Field.value != document.getElementById("pwd1").value)
        {
          alert("Given passwords do not match.");
          pw2Field.focus();
          pw2Field.select();
          return false;
        }
        return true;
      }
    </script>

    <script>
      function validateTele(teleField){
        telNum = teleField.value;

        if (telNum.search(/\(?\d\d\d\)?(\s|-)?\d\d\d(\s|-)?\d\d\d\d/) == -1)
        {
          alert(telNum + " is not a valid phone number.");
          teleField.focus();
          teleField.select();
          return false;
        }
        return true;
      }
    </script>
	
    <script>
      function validateEmail(){
        if (document.getElementById("email").value.search(/([a-z]|[0-9])+@([a-z]|[0-9])+/i) == -1)
        {
          alert("Email requires an '@' symbol separated by at least one letter or digit on either side.");
          document.getElementById("email").focus();
          document.getElementById("email").select();
          return false;
        }
        return true;
      }
    </script>

    <script>
      function validateForm(){
        if (!(matchPasswords(document.getElementById("pwd2")) 
            && validateTele(document.getElementById("tele"))
            && validateEmail()))
        {
          return false;
        }
        return true;
      }
    </script>
    
  </head>

  <body>
    <h1 align=center>Register to join the ladder</h1>
    <p><hr></p>
    <h3>Please fill out all fields:</h3>
    <form name="registration_form" id="registration_form" action="https://csis314-jjones.bitnamiapp.com/secure/register.php" method="post" onsubmit="return validateForm();">
      Your name:<br>
      <input type="text" name="name" id="name" required><br><br>
      Email:<br>
      <input type="email" name="email" id="email" onChange="validateEmail();" required><br><br>
      Phone number (include area code):<br>
      <input type="text" name="tele" id="tele" maxlength="14" onChange="validateTele(this);" required><br><br>
      Username:<br>
      <input type="text" name="uname" id="uname" required><br><br>
      Password:<br>
      <input type="password" name="pwd1" id="pwd1" required><br><br>
      Please confirm your password:<br>
      <input type="password" name="pwd2" id="pwd2" onChange="matchPasswords(this);" required><br><br>
      <input type="submit" value="Submit">
    </form>

  </body>

</html>
